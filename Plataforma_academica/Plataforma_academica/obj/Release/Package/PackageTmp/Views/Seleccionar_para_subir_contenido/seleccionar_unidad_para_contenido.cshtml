@model Plataforma_academica.Models.principalP

@{
    ViewBag.Title = "seleccionar_unidad_para_contenido";
    Layout = "~/Views/Shared/_Layout.cshtml";
    Plataforma_academica.Models.Login usu = Session["usuario"] as Plataforma_academica.Models.Login;
}
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="~/Estilos/principal_sin_textarea.css" rel="stylesheet" type="text/css">    
    <link href="~/Estilos/chat_8.css" rel="stylesheet" type="text/css">
    <link href="~/Estilos/ChatStyle.css" rel="stylesheet" type="text/css">
    

    @section scripts{
    <script src="/Scripts/ui/jquery.ui.core.js"></script>
    <script src="/Scripts/ui/jquery.ui.widget.js"></script>
    <script src="/Scripts/ui/jquery.ui.mouse.js"></script>
    <script src="/Scripts/ui/jquery.ui.draggable.js"></script>
    <script src="/Scripts/ui/jquery.ui.resizable.js"></script>

    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.4.1.js"></script>

    <!--Reference the autogenerated SignalR hub script. -->
    <script src="/signalr/hubs"></script>
    }   

    <script type="text/javascript">
        $(function () {

            setScreen(false);

            // Declare a proxy to reference the hub.
            var chatHub = $.connection.chatHub;

            registerClientMethods(chatHub);

            // Start Hub
            $.connection.hub.start().done(function () {

                registerEvents(chatHub)

            });

        });

        function setScreen(isLogin) {

            if (!isLogin) {

                $("#divChat").hide();
                $("#divLogin").show();
            }
            else {

                $("#divChat").show();
                $("#divLogin").hide();
            }

        }

        function registerEvents(chatHub) {

            $("#btnStartChat").click(function () {

                var name = $("#txtNickName").val();
                if (name.length > 0) {
                    chatHub.server.connect(name);
                }
                else {
                    alert("Please enter name");
                }

            });


            $('#btnSendMsg').click(function () {

                var msg = $("#txtMessage").val();
                if (msg.length > 0) {

                    var userName = $('#hdUserName').val();
                    chatHub.server.sendMessageToAll(userName, msg);
                    $("#txtMessage").val('');
                }
            });


            $("#txtNickName").keypress(function (e) {
                if (e.which == 13) {
                    $("#btnStartChat").click();
                }
            });

            $("#txtMessage").keypress(function (e) {
                if (e.which == 13) {
                    $('#btnSendMsg').click();
                }
            });

            spanUser
        }

        function registerClientMethods(chatHub) {

            // Calls when user successfully logged in
            chatHub.client.onConnected = function (id, userName, allUsers, messages) {

                setScreen(true);

                $('#hdId').val(id);
                $('#hdUserName').val(userName);
                $('#spanUser').html(userName);

                // Add All Users
                for (i = 0; i < allUsers.length; i++) {

                    AddUser(chatHub, allUsers[i].ConnectionId, allUsers[i].UserName);
                }

                // Add Existing Messages
                for (i = 0; i < messages.length; i++) {

                    AddMessage(messages[i].UserName, messages[i].Message);
                }


            }

            // On New User Connected
            chatHub.client.onNewUserConnected = function (id, name) {

                AddUser(chatHub, id, name);
            }


            // On User Disconnected
            chatHub.client.onUserDisconnected = function (id, userName) {

                $('#' + id).remove();

                var ctrId = 'private_' + id;
                $('#' + ctrId).remove();


                var disc = $('<div class="disconnect">"' + userName + '" logged off.</div>');

                $(disc).hide();
                $('#divusers').prepend(disc);
                $(disc).fadeIn(200).delay(2000).fadeOut(200);

            }

            chatHub.client.messageReceived = function (userName, message) {

                AddMessage(userName, message);
            }


            chatHub.client.sendPrivateMessage = function (windowId, fromUserName, message) {

                var ctrId = 'private_' + windowId;


                if ($('#' + ctrId).length == 0) {

                    createPrivateChatWindow(chatHub, windowId, ctrId, fromUserName);

                }

                $('#' + ctrId).find('#divMessage').append('<div class="message"><span class="userName">' + fromUserName + '</span>: ' + message + '</div>');

                // set scrollbar
                var height = $('#' + ctrId).find('#divMessage')[0].scrollHeight;
                $('#' + ctrId).find('#divMessage').scrollTop(height);

            }

        }

        function AddUser(chatHub, id, name) {

            var userId = $('#hdId').val();

            var code = "";

            if (userId == id) {

                code = $('<div class="loginUser">' + name + "</div>");

            }
            else {

                code = $('<a id="' + id + '" class="user" >' + name + '<a>');

                $(code).dblclick(function () {

                    var id = $(this).attr('id');

                    if (userId != id)
                        OpenPrivateChatWindow(chatHub, id, name);

                });
            }

            $("#divusers").append(code);

        }

        function AddMessage(userName, message) {
            $('#divChatWindow').append('<div class="message"><span class="userName">' + userName + '</span>: ' + message + '</div>');

            var height = $('#divChatWindow')[0].scrollHeight;
            $('#divChatWindow').scrollTop(height);
        }

        function OpenPrivateChatWindow(chatHub, id, userName) {

            var ctrId = 'private_' + id;

            if ($('#' + ctrId).length > 0) return;

            createPrivateChatWindow(chatHub, id, ctrId, userName);

        }

        function createPrivateChatWindow(chatHub, userId, ctrId, userName) {

            var div = '<div id="' + ctrId + '" class="ui-widget-content draggable" rel="0">' +
                       '<div class="header">' +
                          '<div  style="float:right;">' +
                              '<img id="imgDelete"  style="cursor:pointer;" src="/Images/delete.png"/>' +
                           '</div>' +

                           '<span class="selText" rel="0">' + userName + '</span>' +
                       '</div>' +
                       '<div id="divMessage" class="messageArea">' +

                       '</div>' +
                       '<div class="buttonBar">' +
                          '<input id="txtPrivateMessage" class="msgText" type="text"   />' +
                          '<input id="btnSendMessage" class="submitButton button" type="button" value="Send"   />' +
                       '</div>' +
                    '</div>';

            var $div = $(div);

            // DELETE BUTTON IMAGE
            $div.find('#imgDelete').click(function () {
                $('#' + ctrId).remove();
            });

            // Send Button event
            $div.find("#btnSendMessage").click(function () {

                $textBox = $div.find("#txtPrivateMessage");
                var msg = $textBox.val();
                if (msg.length > 0) {

                    chatHub.server.sendPrivateMessage(userId, msg);
                    $textBox.val('');
                }
            });

            // Text Box event
            $div.find("#txtPrivateMessage").keypress(function (e) {
                if (e.which == 13) {
                    $div.find("#btnSendMessage").click();
                }
            });

            AddDivToContainer($div);

        }

        function AddDivToContainer($div) {
            $('#divContainer').prepend($div);

            $div.draggable({

                handle: ".header",
                stop: function () {

                }
            });

            ////$div.resizable({
            ////    stop: function () {

            ////    }
            ////});

        }
    </script>
    
</head>



<h2>Amazonian language tic´s</h2>
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    
    Plataforma_academica.Models.principalP principal = new Plataforma_academica.Models.principalP();
    Plataforma_academica.Models.principalP[] arreglo;
    Plataforma_academica.Models.Niveles nivel = new Plataforma_academica.Models.Niveles();
    Plataforma_academica.Models.Niveles[] arreglo_nivel;
    Plataforma_academica.Models.Unidades unidad = new Plataforma_academica.Models.Unidades();
    Plataforma_academica.Models.Unidades[] arreglo_unidad;
    Plataforma_academica.Models.Actividades_unidad actividad = new Plataforma_academica.Models.Actividades_unidad();
    Plataforma_academica.Models.Actividades_unidad[] arreglo_actividad;
    Plataforma_academica.Models.Actividades_unidad[] arreglo_examen;
    Plataforma_academica.Models.Pais pai = new Plataforma_academica.Models.Pais();
    Plataforma_academica.Models.Pais[] arreglo_pais;
    Plataforma_academica.Models.Departamento dep = new Plataforma_academica.Models.Departamento();
    Plataforma_academica.Models.Departamento[] arreglo_departamento;
    Plataforma_academica.Models.Municipio mun = new Plataforma_academica.Models.Municipio();
    Plataforma_academica.Models.Municipio[] arreglo_municipio;
    Plataforma_academica.Models.Empresa emp = new Plataforma_academica.Models.Empresa();
    Plataforma_academica.Models.Empresa[] arreglo_empresa;
    Plataforma_academica.Models.Grupo grup = new Plataforma_academica.Models.Grupo();
    Plataforma_academica.Models.Grupo[] arreglo_grupo;
    Plataforma_academica.Models.Alumnos alum = new Plataforma_academica.Models.Alumnos();
    Plataforma_academica.Models.Alumnos[] arreglo_alumnos;
    Plataforma_academica.Models.Chat cha = new Plataforma_academica.Models.Chat();
    Plataforma_academica.Models.Chat[] arreglo_chat;


    <main class="con_form">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="container">
            <div class="row">
                <!--Cursos-->
                <div class="col-sm-4">
                    <h4>Cursos</h4>
                    <nav>
                        <ul>
                            @{
                                if (usu != null)
                                {

                                    arreglo = principal.BuscarCursos(usu.cedula);

                                    for (int i = 0; i < arreglo.Length; i++)
                                    {
                                        <li>
                                            <button type="submit" class="btn btn-info btn-sm btn-block" name="ir1" value="@arreglo[i].codigo_curso">
                                                <span class="glyphicon glyphicon-book"></span>
                                                @arreglo[i].nombre_curso
                                            </button>
                                        </li>
                                    }
                                }
                            }

                        </ul>
                    </nav>
                </div>
                <!-- Nivel -->
                <div class="col-sm-4">
                    <h4>Nivel</h4>
                    <nav>
                        <ul>
                            @{
                                if (TempData["mensaje10"] != null && usu != null)
                                {
                                    TempData.Keep("mensaje10");
                                    nivel.codigo_nivel = Convert.ToString(TempData["mensaje10"]);
                                    arreglo_nivel = nivel.Consultar_niveles_grupo(nivel);

                                    for (int i = 0; i < arreglo_nivel.Length; i++)
                                    {
                                        <li>
                                            <button type="submit" class="btn btn-info btn-sm btn-block " name="ir2" value="@arreglo_nivel[i].codigo_nivel">
                                                <span class="glyphicon glyphicon-stats"></span>
                                                @arreglo_nivel[i].nombre_nivel
                                            </button>
                                        </li>

                                    }
                                }
                                else
                                {
                                    <li><a>Elija un Curso</a></li>
                                }
                            }
                        </ul>
                    </nav>
                </div>
                <!-- Barra Progreso -->
                <div class="col-md-4">
                    <h4>Progreso de los cursos</h4>
                    <div class="progress-outer">
                        <div class="progress">
                            <div class="progress-bar progress-bar-info progress-bar-striped active" style="width:80%; box-shadow:-1px 10px 10px rgba(91, 192, 222, 0.7);"></div>
                            <div class="progress-value">80%</div>
                        </div>
                        <h6>Progreso Ingles</h6>
                    </div>
                    <div class="progress-outer">
                        <div class="progress">
                            <div class="progress-bar progress-bar-success progress-bar-striped active" style="width:60%; box-shadow:-1px 10px 10px rgba(116, 195, 116,0.7);"></div>
                            <div class="progress-value">60%</div>
                        </div>
                        <h6>Progreso Portugues</h6>
                    </div>
                    <div class="progress-outer">
                        <div class="progress">
                            <div class="progress-bar progress-bar-warning progress-bar-striped active" style="width:40%; box-shadow:-1px 10px 10px rgba(240, 173, 78,0.7);"></div>
                            <div class="progress-value">40%</div>
                        </div>
                        <h6>Progreso Frances</h6>
                    </div>
    @*--*@          <button class="open-button" name="ir7_">
                            <i class="glyphicon glyphicon-comment"><span class="badge-sonar1"></span></i>
                    </button>
                    
                </div>
                <!--Unidades-->
                <div class="col-sm-4">
                    <h4>Unidades</h4>
                    <nav>
                        <ul>
                            @{
                                if (TempData["mensaje11"] != null && usu != null)
                                {
                                    TempData.Keep("mensaje11");
                                    string nc = Convert.ToString(TempData["mensaje11"]);
                                    arreglo_unidad = unidad.Consultar_unidades_grupo(nc);

                                    for (int i = 0; i < arreglo_unidad.Length; i++)
                                    {
                                        <li>
                                            <button type="submit" class="btn btn-info btn-sm btn-block" name="ir3" value="@arreglo_unidad[i].codigo_unidad">
                                                <span class="glyphicon glyphicon-th-large"></span>
                                                @arreglo_unidad[i].nombre_unidad
                                            </button>
                                        </li>

                                    }
                                }
                                else
                                {
                                    <li><a>Elija un Nivel</a></li>
                                }
                            }
                        </ul>
                    </nav>
                </div>
                <!--Actividades-->
                <div class="col-sm-4">
                    <h4>Actividades</h4>
                    <nav>
                        <ul>
                            @{
                                if (TempData["mensaje12"] != null && usu != null)
                                {
                                    TempData.Keep("mensaje12");
                                    string nc = Convert.ToString(TempData["mensaje12"]);
                                    arreglo_actividad = actividad.Consultar_Actividad_unidades_edic(nc);
                                    arreglo_examen = actividad.Consultar_examen_unidades_edic(nc);
                                    <li>
                                        <div class="btn-group">
                                            <button type="submit" class="btn btn-info btn-sm btn-block" name="ir5" value="nueva">
                                                <span class="glyphicon glyphicon-plus"></span>
                                                Actividad
                                            </button>
                                            <button type="submit" class="btn btn-info btn-sm btn-block" name="ir99" value="nueva2">
                                                <span class="glyphicon glyphicon-plus"></span>
                                                Actividad Practica 
                                            </button>
                                        </div>            
</li>
                                    for (int i = 0; i < arreglo_actividad.Length; i++)
                                    {
                                        <li>
                                            <div class="btn-group">
                                                <button type="submit" class="btn btn-info btn-sm btn-block btn-actividad" name="ir4" value="@arreglo_actividad[i].codigo_actividad">
                                                    <span class="glyphicon glyphicon-lock"></span>
                                                    @arreglo_actividad[i].nombre_actividad
                                                </button>
                                                @{
                                                    if (arreglo_actividad[i].edicion == "Desaprobado")
                                                    {
                                                        <button type="submit" class="btn btn-info btn-sm btn-editar" name="ir6" value="@arreglo_actividad[i].codigo_actividad">
                                                            <span class="glyphicon glyphicon-pencil"></span>
                                                        </button>
                                                    }
                                                }

                                            </div>
                                        </li>
                                                    }
                                                    for (int i = 0; i < arreglo_examen.Length; i++)
                                                    {
                                        <li>
                                            <div class="btn-group">
                                                <button type="submit" class="btn btn-info btn-sm btn-block btn-actividad" name="ir4_" value="@arreglo_examen[i].id_examen">
                                                    <span class="glyphicon glyphicon-list-alt"></span>
                                                    @arreglo_examen[i].examen
                                                </button>
                                                @{
                                                    if (arreglo_examen[i].edicion_examen == "Desaprobado")
                                                    {
                                                        <button type="submit" class="btn btn-info btn-sm btn-editar" name="ir6_" value="@arreglo_examen[i].id_examen">
                                                            <span class="glyphicon glyphicon-pencil"></span>
                                                        </button>
                                                    }
                                                }

                                            </div>
                                        </li>
                                                        }
                                                    }
                                                    else
                                                    {
                                    <li><a> Elija una unidad</a></li>
                                                    }
                            }
                        </ul>
                    </nav>
                </div>
            </div>
            @{
               <ul class="nav nav-tabs chat-popup1" id="myForm7">
                   <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
                   <li><a data-toggle="tab" href="#menu1">Chat</a></li>
                   <li><a data-toggle="tab" href="#divContainer">mensajes</a></li><span class="close" onclick="closeForm()">x</span>
               </ul>
               <div class="tab-content chat-popup1" id="myForm6">
                   <div div id="home" class="tab-pane fade in active">
                       <div class="chat-popup" id="myForm">
                           <div class="col-md-4">
                               <div class="chat-list-box">
                                   <div class="chat-person-list">
                                       <span class="close" onclick="closeForm()">x</span>
                                       <label for="msg"><b>List Country</b></label>
                                       <ul class="list-inline">
                                           @{
                                               arreglo_pais = pai.BuscarPais();
                                               for (int i = 0; i < arreglo_pais.Length; i++)
                                               {
                                                   <li>
                                                       <a class="flip">
                                                           <button type="submit" class="btn btn-info btn-sm btn-block" name="ir8_" value="@arreglo_pais[i].id_pais">
                                                               <span><img src="https://i.ibb.co/6JpcfrK/p4.png"></span>
                                                               @arreglo_pais[i].nombre_pais
                                                           </button>
                                                       </a>

                                                   </li>
                                               }
                                           }
                                       </ul>
                                   </div>
                               </div>
                           </div>
                       </div>
                    @{
                        if (TempData["mensaje20"] != null)
                        {
                            <div class="chat-popup" id="myForm1">
                                <div class="col-md-4">
                                    <div class="chat-list-box">
                                        <div class="chat-person-list">
                                            <span class="close" onclick="closeForm()">x</span>
                                            <label for="msg"><b>List Department</b></label>
                                            <ul class="list-inline">
                                                @{
                                                    arreglo_departamento = dep.BuscarDepartamento(Convert.ToInt32(TempData["mensaje20"]));
                                                    for (int i = 0; i < arreglo_departamento.Length; i++)
                                                    {
                                                        <li>
                                                            <a class="flip">
                                                                <button type="submit" class="btn btn-info btn-sm btn-block" name="ir9_" value="@arreglo_departamento[i].id_departamento">
                                                                    <span><img src="https://i.ibb.co/6JpcfrK/p4.png"></span>
                                                                    @arreglo_departamento[i].nombre_departamento
                                                                </button>
                                                            </a>

                                                        </li>
                                                    }
                                                }
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                     }
                    }
                      @{ if(TempData["mensaje21"] != null){
                       <div class="chat-popup" id="myForm2">
                           <div class="col-md-4">
                               <div class="chat-list-box">
                                   <div class="chat-person-list">
                                       <span class="close" onclick="closeForm()">x</span>
                                       <label for="msg"><b>List Municipality</b></label>
                                       <ul class="list-inline">
                                           @{
                                               arreglo_municipio = mun.BuscarMunicipio(Convert.ToInt32(TempData["mensaje21"]));
                                               for (int i = 0; i < arreglo_municipio.Length; i++)
                                               {
                                                   <li>
                                                       <a class="flip">
                                                           <button type="submit" class="btn btn-info btn-sm btn-block" name="ir10_" value="@arreglo_municipio[i].id_municipio">
                                                               <span><img src="https://i.ibb.co/6JpcfrK/p4.png"></span>
                                                               @arreglo_municipio[i].nombre_municipio
                                                           </button>
                                                       </a>

                                                   </li>
                                               }
                                           }
                                       </ul>
                                   </div>
                               </div>
                           </div>
                       </div>
                       }
                       if(TempData["mensaje22"] != null){
                       <div class="chat-popup" id="myForm3">
                           <div class="col-md-4">
                               <div class="chat-list-box">
                                   <div class="chat-person-list">
                                       <span class="close" onclick="closeForm()">x</span>
                                       <label for="msg"><b>List Company</b></label>
                                       <ul class="list-inline">
                                           @{
                                               arreglo_empresa = emp.BuscarEmpresa(Convert.ToInt32(TempData["mensaje22"]));
                                               for (int i = 0; i < arreglo_empresa.Length; i++)
                                               {
                                                   <li>
                                                       <a class="flip">
                                                           <button type="submit" class="btn btn-info btn-sm btn-block" name="ir11_" value="@arreglo_empresa[i].id_empresa">
                                                               <span><img src="https://i.ibb.co/6JpcfrK/p4.png"></span>
                                                               @arreglo_empresa[i].nombre_empresa
                                                           </button>
                                                       </a>

                                                   </li>
                                               }
                                           }
                                       </ul>
                                   </div>
                               </div>
                           </div>
                       </div>
                       }
                       if(TempData["mensaje23"] != null){
                       <div class="chat-popup" id="myForm4">
                           <div class="col-md-4">
                               <div class="chat-list-box">
                                   <div class="chat-person-list">
                                       <span class="close" onclick="closeForm()">x</span>
                                       <label for="msg"><b>List Groups</b></label>
                                       <ul class="list-inline">
                                           @{
                                               arreglo_grupo = grup.BuscarGrupo(Convert.ToInt32(TempData["mensaje23"]));
                                               for (int i = 0; i < arreglo_grupo.Length; i++)
                                               {
                                                   <li>
                                                       <a class="flip">
                                                           <button type="submit" class="btn btn-info btn-sm btn-block" name="ir12_" value="@arreglo_grupo[i].id_grupo">
                                                               <span><img src="https://i.ibb.co/6JpcfrK/p4.png"></span>
                                                               @arreglo_grupo[i].nombre_grupo
                                                           </button>
                                                       </a>

                                                   </li>
                                               }
                                           }
                                       </ul>
                                   </div>
                               </div>
                           </div>
                       </div>
                       }
                       if(TempData["mensaje24"] != null){
                       <div class="chat-popup" id="myForm5">
                           <div class="col-md-4">
                               <div class="chat-list-box">
                                   <div class="chat-person-list">
                                       <span class="close" onclick="closeForm()">x</span>
                                       <label for="msg"><b>List Students</b></label>
                                       <ul class="list-inline">
                                           @{
                                               arreglo_alumnos = alum.BuscarAlumnos(Convert.ToInt32(TempData["mensaje24"]));
                                               for (int i = 0; i < arreglo_alumnos.Length; i++)
                                               {
                                                   <li>
                                                       <a class="flip">
                                                           <button type="submit" class="btn btn-info btn-sm btn-block" name="ir13_" value="@arreglo_alumnos[i].id_usuario">
                                                               <span><img src="https://i.ibb.co/6JpcfrK/p4.png"></span>
                                                               @arreglo_alumnos[i].nombre_usuario
                                                           </button>
                                                       </a>

                                                   </li>
                                               }
                                           }
                                       </ul>
                                   </div>
                               </div>
                           </div>
                       </div>
                                               }
                    }
                   </div>
                   @* Chats *@
                   <div id="menu1" class="tab-pane fade">
                       <div>
                           <div class="chat-list-box1">
                               <div class="head-box">
                                   <ul class="list-inline text-left d-inline-block float-left">
                                       <li> <img src="https://i.ibb.co/fCzfFJw/person.jpg" alt="" width="40px"><span style="padding-left: 10px;">@usu.Nombre</span></li>                                       
                                   </ul>
                               </div>                                                              
                                <div class="chat-person-list1">
                                 @{
                                       arreglo_chat = cha.BuscarChat(usu.usuario);
                                       for (int i = 0; i < arreglo_chat.Length; i++)
                                       {
                                        <ul class="list-inline">
                                           @{ if (arreglo_chat[i].respuesta=="Falso")
                                               {
                                                   cha.datos = cha.BuscarPersona(arreglo_chat[i].receptor);
                                                   if (cha.datos != null && cha.datos.Rows.Count > 0)
                                                   {
                                                       cha.nombre = cha.datos.Rows[0]["nombre_receptor"].ToString();                                                     
                                                   }
                                               }else
                                               {
                                                   cha.datos = cha.BuscarPersona(arreglo_chat[i].emisor);
                                                   if (cha.datos != null && cha.datos.Rows.Count > 0)
                                                   {
                                                       cha.nombre = cha.datos.Rows[0]["nombre_receptor"].ToString();
                                                   }
                                               }

                                           }
                                          <li> <button class="flip" name="ir14_" value="@arreglo_chat[i].id_chat"> <img src="https://i.ibb.co/6JpcfrK/p4.png"> <span> @cha.nombre</span> <span class="chat-time">@arreglo_chat[i].fecha</span> <span>@arreglo_chat[i].mensaje</span></button> </li>
                                        </ul>
                                    }
                                   } 
                                </div>

                           </div>
                       </div> 
                   </div>                  


                   <div id="divContainer" class="tab-pane fade">
                       <div id="divLogin" class="login">
                           <div>
                               Your Name:<br />
                               <input id="txtNickName" value="@usu.Nombre" type="text" class="textBox" disabled/>
                               @*<label id="txtNickName" value="@usu.Nombre">@Html.LabelFor(Model => usu.Nombre, usu.Nombre, new { @class = "" })</label>*@
                           </div>
                           <div id="divButton">
                               <input id="btnStartChat" type="button" class="submitButton" value="Start Chat" />
                           </div>
                       </div>

                       <div id="divChat" class="chatRoom">
                           <div class="title">
                               Welcome to Chat Room <span id='spanUser'></span>

                           </div>
                           <div class="content">
                               <div id="divChatWindow" class="chatWindow">
                               </div>
                               <div id="divusers" class="users">
                               </div>
                           </div>
                           <div class="messageBar">
                               <input class="textbox" type="text" id="txtMessage" />
                               <input id="btnSendMsg" type="button" value="Send" class="submitButton" />
                           </div>
                       </div>

                       <input id="hdId" type="hidden" />
                       <input id="hdUserName" type="hidden" />
                   </div>




               </div>
                    <div class="col-md-8" id="mensajes">
                        <div class="message-box">
                            <div class="head-box-1">
                                <ul class="msg-box list-inline text-left d-inline-block float-left">
                                    <li>
                                        <img src="https://i.ibb.co/fCzfFJw/person.jpg" alt="" width="40px"> <span> Naveen mandwariya </span> <br> <small class="timee"> @DateTime.Now.ToString("hh:mm tt") </small> 
                                    </li>
                                </ul>
                            </div>
                            <div class="msg_history">
                                @*<div class="received_msg">
                                    <div class="received_withd_msg">
                                        <p>Hi, How are you ?</p>
                                        <span class="time_date"> 11:01 AM    |    June 9</span>
                                    </div>
                                </div>
                                <div class="outgoing_msg">
                                    <div class="sent_msg">
                                        <p>Hello, i am fine thankyou, what about you ?</p>
                                        <span class="time_date"> 11:01 AM    |    June 9</span>
                                    </div>
                                </div>*@
                                

                            </div>
                            <div class="send-message">
                                    <textarea class="form-control_1" placeholder="Type your message here ..."></textarea>
                                    <ul class="list-inline">
                                        <button> <i class="fas fa-paper-plane"></i> </button>
                                    </ul>
                            </div>
                        </div>
                    </div>
                if (ViewBag.mensaje == "pais")
                {
                  @Scripts.Render("~/Scripts/chat.js")
                }
                else
                {
                  if (TempData["mensaje20"] != null)
                  {
                    @Scripts.Render("~/Scripts/chat.js")
                    @Scripts.Render("~/Scripts/departamento.js")
                    
                  }else
                {
                  if (TempData["mensaje21"] != null)
                  {
                    @Scripts.Render("~/Scripts/chat1.js")
                    @Scripts.Render("~/Scripts/municipio.js")                                                              
                    
                  }else{
                          if (TempData["mensaje22"] != null)
                  {
                    @Scripts.Render("~/Scripts/chat1.js")
                    @Scripts.Render("~/Scripts/empresas.js")
                                                        }
                                                        else
                                                        {
                                                            if (TempData["mensaje23"] != null)
                                                            {
                                                                @Scripts.Render("~/Scripts/chat1.js")
                                                                @Scripts.Render("~/Scripts/Grupo.js")
                                                               }
                                                               else
                                                               {
                                                                   if (TempData["mensaje24"] != null)
                                                                   {
                                                                    @Scripts.Render("~/Scripts/chat1.js")
                                                                    @Scripts.Render("~/Scripts/alumnos.js")
                                                                   }
                                                                   else
                                                                   {
                                                                       if (TempData["mensaje25"] != null)
                                                                       {
                                                                        @Scripts.Render("~/Scripts/mensajes.js")
                                                                       }
                                                                   }
                                                               }
                                                           }
                                                       }
                                                   }
                                               }
            }
                   
        </div>
        <script>
                  function closeForm() {
                      document.getElementById("myForm").style.display = "none";
                      document.getElementById("myForm6").style.display = "none";
                      document.getElementById("myForm7").style.display = "none";
                      document.getElementById("myForm1").style.display = "none";
                      document.getElementById("myForm2").style.display = "none";
                      document.getElementById("myForm3").style.display = "none";
                      document.getElementById("myForm4").style.display = "none";
                  }
        </script>
    </main>

                                }
<footer>
    <p>&copy; @DateTime.Now.Year - Amazonian Language Tic</p>
</footer>


