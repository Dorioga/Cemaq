@model Plataforma_academica.Models.Registrar_Trabajador

@{
    ViewBag.Title = "Registrar_Trabajador";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<head>
    <style type="text/css">
        .oculta {
            display: none;
        }
    </style>
    <script type="text/javascript">

        function mostrar(value_elemento) {
            var total = 1; //total de mis capas
            var elemento, elemento1, elemento2, elemento3;
            elemento = document.getElementById('capa');
            elemento1 = document.getElementById('capa1');
            elemento2 = document.getElementById('capa2');
            elemento3 = document.getElementById('capa3');
            if (value_elemento == 7) {
                elemento.style.display = "block";
                elemento1.style.display = "block";
                elemento2.style.display = "block";
                elemento3.style.display = "block";
            } else {
                elemento.style.display = "none";
                elemento1.style.display = "none";
                elemento2.style.display = "none";
                elemento3.style.display = "none";
            }
        }
    </script>
</head>

@using (Html.BeginForm("Registrar_Trabajador", "Registrar_Trabajador", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <main class="con_form">
        <div class="formulario">
            <h3>Nuevo Usuario</h3>
            <!--2 Columnas-->
            <div class="tcolumn">
                <!--Columna izquerda-->
                <div>
                    <!--Tipo de Trabajador-->
                    <selection class="section_contenido">
                        @Html.DropDownListFor(model => model.tipo_rol, (IEnumerable<SelectListItem>)ViewData["lista2"], "Tipo de trabajador*", new { @onchange = "mostrar(this.value)" })
                    </selection>
                    <!--Tipo Documento-->
                    <section class="section_contenido">
                        @Html.DropDownListFor(model => model.tipo_doc, (IEnumerable<SelectListItem>)ViewData["lista1"], "Tipo de documento*")
                    </section>
                    <!--Numero Identificacion-->
                    <section class="section_contenido">
                        @Html.EditorFor(model => model.cedula, new { htmlAttributes = new { @placeholder = "Numero de Identificación*", @id = "nombre" } })
                        @Html.ValidationMessageFor(model => model.cedula, "", new { @class = "text-danger" })
                    </section>
                    <!--Primer Nombre-->
                    <section class="section_contenido">
                        @Html.EditorFor(model => model.nombre1, new { htmlAttributes = new { @placeholder = "Primer Nombre*", @id = "nombre" } })
                        @Html.ValidationMessageFor(model => model.nombre1, "", new { @class = "text-danger" })
                    </section>
                    <!--Segundo Nombre-->
                    <section class="section_contenido">
                        @Html.EditorFor(model => model.nombre2, new { htmlAttributes = new { @placeholder = "Segundo Nombre(Opcional)", @id = "nombre" } })
                        @Html.ValidationMessageFor(model => model.nombre2, "", new { @class = "text-danger" })
                    </section>
                    <!--Primer Apellido-->
                    <section class="section_contenido">
                        @Html.EditorFor(model => model.apellido1, new { htmlAttributes = new { @placeholder = "Primer Apellido*", @id = "nombre" } })
                        @Html.ValidationMessageFor(model => model.apellido1, "", new { @class = "text-danger" })
                    </section>
                    <!--Segundo Apellido-->
                    <section class="section_contenido">
                        @Html.EditorFor(model => model.apellido2, new { htmlAttributes = new { @placeholder = "Segundo Apellido(Opcional)", @id = "nombre" } })
                        @Html.ValidationMessageFor(model => model.apellido2, "", new { @class = "text-danger" })
                    </section>
                    <!--Nivel Escolaridad-->
                    <section class="section_contenido">
                        @Html.DropDownListFor(model => model.escolaridad, (IEnumerable<SelectListItem>)ViewData["lista10"], "Nivel de educación*")
                    </section>
                    <!--Experiencia Profesional Docente-->
                    <section class="section_contenido oculta" id="capa">
                        @Html.TextAreaFor(model => model.experiencia, new { @class = "textarea1", @placeholder = "Experiencia profesional*" })
                    </section>
                    <!--Formacion Academica docente-->
                    <section class="section_contenido oculta" id="capa1">
                        @Html.TextAreaFor(model => model.formacion, new { @class = "textarea1", @placeholder = "Formación academica*" })
                    </section>
                </div>
                <!--Columna Derecha-->
                <div>
                    <!--Numero Telefono-->
                    <section class="section_contenido">
                        @Html.EditorFor(model => model.telefono, new { htmlAttributes = new { @type = "tel", @placeholder = "Numero Telefono*", @id = "nombre" } })
                        @Html.ValidationMessageFor(model => model.telefono, "", new { @class = "text-danger" })
                    </section>
                    <!--Correo Electronico-->
                    <section class="section_contenido">
                        @Html.EditorFor(model => model.correo, new { htmlAttributes = new { @type = "email", @placeholder = "Correo Electronico*", @id = "nombre" } })
                        @Html.ValidationMessageFor(model => model.correo, "", new { @class = "text-danger" })
                    </section>
                    <!--Genero-->
                    <section class="section_contenido">
                        @Html.DropDownListFor(model => model.genero, (IEnumerable<SelectListItem>)ViewData["lista7"], "Genero *")
                    </section>
                    <!--Contrato-->
                    <section class="section_contenido">
                        @Html.DropDownListFor(model => model.nombre_contrato, (IEnumerable<SelectListItem>)ViewData["lista8"], "Contrato *")
                    </section>
                    <!--Tipo Poblacion-->
                    <section class="section_contenido">
                        @Html.DropDownListFor(model => model.tipo_pobla, (IEnumerable<SelectListItem>)ViewData["lista3"], "Tipo de población*")
                    </section>
                    <!--Estado Civil-->
                    <section class="section_contenido">
                        @Html.DropDownListFor(model => model.estado_civil, (IEnumerable<SelectListItem>)ViewData["lista9"], "Estado Civil*")
                    </section>
                    <!--Publicaciones-->
                    <section class="section_contenido oculta" id="capa2">
                        @Html.TextAreaFor(model => model.publicaciones, new { @class = "textarea1", @placeholder = "Publicaciones*" })
                    </section>
                    <!--Fecha Nacimiento-->
                    <section class="section_contenido">
                        <p>
                            @{
                                string x = DateTime.Now.ToString("yyyy-MM-dd");
                            }
                            @Html.EditorFor(model => model.fecha_nacimiento, new { htmlAttributes = new { @type = "date", @class = "form-control", @max = x.ToString() } })
                            @Html.ValidationMessageFor(model => model.fecha_nacimiento, "", new { @class = "text-danger" })
                            <h5>Fecha de nacimiento *</h5>
                        </p>
                    </section>
                    <!--Foto Docente-->
                    <section class="section_contenido oculta" id="capa3">
                        <p>
                            <input type="file" name="file1" accept=".jpg, .png,.jpeg " />
                            <h5>Foto del docente *</h5>
                        </p>
                    </section>
                    <!--Boton Guardar-->
                    <section class="section_contenido">
                        <button type="submit" name="subir1" class="boton" style="text-align: center;" value="Finalizar">Guardar</button>
                    </section>
                </div>
            </div>

        </div>

        <div class="modal fade" id="mostrarmodal2" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Verificacion de proceso</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">
                        <h4>El Trabajador se registro de forma exitosa, ¿desea registrar un nuevo usuario?</h4>
                    </div>
                    <div class="modal-footer">
                        <a href="/Registrar_Trabajador/Registrar_Trabajador" class="btn btn-info">Registrar Nuevo</a>
                        <a href="/Seleccionar_para_subir_contenido/seleccionar_unidad_para_contenido" class="btn btn-danger">Finalizar Registro</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="mostrarmodal3" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Verificacion de proceso</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">
                        <h4>El Usuario no fue registrado</h4>
                    </div>
                    <div class="modal-footer">
                        <a href="/Registrar_Trabajador/Registrar_Trabajador" class="btn btn-danger">Reintentar</a>
                    </div>
                </div>
            </div>
        </div>
        }
    </main>
    
        if (ViewBag.mensaje == "Exito")
        {
            @Scripts.Render("~/Scripts/registro.js")
        }
        else
        {
            if (ViewBag.mensaje == "No se registro el examen")
            {
                @Scripts.Render("~/Scripts/registrono.js")
            }

        }


    }

    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
    }
