@model Plataforma_academica.Models.principalP

@{
    ViewBag.Title = "seleccionar_unidad_para_contenido";
    Layout = "~/Views/Shared/_Layout.cshtml";
    Plataforma_academica.Models.Login usu = Session["usuario"] as Plataforma_academica.Models.Login;
}
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--Reference the SignalR library.
    <link href="~/Estilos/chat_8.css" rel="stylesheet" type="text/css">
    <link href="~/Estilos/ChatStyle.css" rel="stylesheet" type="text/css">
             <script src="/Scripts/ui/jquery.ui.mouse.js"></script>
            -->
        <link href="~/Estilos/principal.css" rel="stylesheet" type="text/css">
        <link href="~/Estilos/botones3D.css" rel="stylesheet" type="text/css">
        <link href="~/Estilos/escritos.css" rel="stylesheet" type="text/css">
        @section scripts{
            <script src="/Scripts/ui/jquery.ui.core.js"></script>
            <script src="/Scripts/ui/jquery.ui.widget.js"></script>
            <script src="/Scripts/ui/jquery.ui.draggable.js"></script>
            <script src="/Scripts/ui/jquery.ui.resizable.js"></script>

            <!--Reference the SignalR library. -->
            <script src="~/Scripts/jquery.signalR-2.4.1.js"></script>

            <!--Reference the autogenerated SignalR hub script. -->
            <script src="/signalr/hubs"></script>
        }

    </head>



@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    
    Plataforma_academica.Models.principalP principal = new Plataforma_academica.Models.principalP();
    Plataforma_academica.Models.principalP[] arreglo;
    Plataforma_academica.Models.Niveles nivel = new Plataforma_academica.Models.Niveles();
    Plataforma_academica.Models.Niveles[] arreglo_nivel;
    Plataforma_academica.Models.Unidades unidad = new Plataforma_academica.Models.Unidades();
    Plataforma_academica.Models.Unidades[] arreglo_unidad;
    Plataforma_academica.Models.Actividades_unidad actividad = new Plataforma_academica.Models.Actividades_unidad();
    Plataforma_academica.Models.Actividades_unidad[] arreglo_actividad;
    Plataforma_academica.Models.Actividades_unidad[] arreglo_examen;
    Plataforma_academica.Models.Pais pai = new Plataforma_academica.Models.Pais();
    Plataforma_academica.Models.Pais[] arreglo_pais;
    Plataforma_academica.Models.Departamento dep = new Plataforma_academica.Models.Departamento();
    Plataforma_academica.Models.Departamento[] arreglo_departamento;
    Plataforma_academica.Models.Municipio mun = new Plataforma_academica.Models.Municipio();
    Plataforma_academica.Models.Municipio[] arreglo_municipio;
    Plataforma_academica.Models.Empresa emp = new Plataforma_academica.Models.Empresa();
    Plataforma_academica.Models.Empresa[] arreglo_empresa;
    Plataforma_academica.Models.Grupo grup = new Plataforma_academica.Models.Grupo();
    Plataforma_academica.Models.Grupo[] arreglo_grupo;
    Plataforma_academica.Models.Alumnos alum = new Plataforma_academica.Models.Alumnos();
    Plataforma_academica.Models.Alumnos[] arreglo_alumnos;
    Plataforma_academica.Models.Chat cha = new Plataforma_academica.Models.Chat();
    Plataforma_academica.Models.Chat[] arreglo_chat;


    <main class="con_form">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <button class="contenercheck first">
            <span>
                <p>Diplomados</p>
            </span>
        </button>
                <div class="contener" @*id="Cursos"*@>
                    @{
                        if (usu != null)
                        {

                            if (Convert.ToInt32(usu.rol) == 7)
                            {
                                arreglo = principal.BuscarCursosDocentes(usu.cedula);
                            }else
                            {
                                arreglo = principal.BuscarCursosgeneral();
                            }
                            for (int i = 0; i < arreglo.Length; i++)
                            {
                                <button type="submit" class="boton" name="ir1" value="@arreglo[i].codigo_curso">
                                    <div class="content-btn">
                                            <img  src="~/imagenes/@arreglo[i].url" />
                                            <span>@arreglo[i].nombre_curso</span>
                                    </div>
                                </button>
                            }
                        }
                    }
                </div>                  
                @*<div class="contenercheck">
                    <h4>Niveles <input type="checkbox" id="nivel" onclick="mynivel()" /></h4>
                </div>
                <div class="contener" id="Niveles">
                    @{
                        if (TempData["mensaje10"] != null && usu != null)
                        {
                            TempData.Keep("mensaje10");
                            nivel.codigo_nivel = Convert.ToString(TempData["mensaje10"]);
                            arreglo_nivel = nivel.Consultar_niveles_grupo(nivel);

                            for (int i = 0; i < arreglo_nivel.Length; i++)
                            {
                              <button type="submit" class="col-lg-40 button1" name="ir2" value="@arreglo_nivel[i].codigo_nivel">
                                  <div class="our-team-main">
                                      <div class="team-front">
                                          <img src="~/imagen_multimedia/2.png" />
                                          <span>@arreglo_nivel[i].nombre_nivel</span>
                                      </div>
                                  </div>
                                  <script>
                                      var checkBox = document.getElementById("nivel");
                                      checkBox.checked = "checked"                                      
                                  </script>                               
                              </button>
                            }
                        }
                        else
                        {
                           <a>Elija un Curso</a>
                        }
                    }
                </div>*@
                <!--Unidades-->
        <button class="contenercheck">
            <span>
                <p>Modulos</p>
            </span>
        </button>
                <div class="contener" @*id="Unidades"*@>
                    @{
                        if (TempData["mensaje10"] != null && usu != null)
                        {
                            TempData.Keep("mensaje10");
                            string nc = Convert.ToString(TempData["mensaje10"]);
                            arreglo_unidad = unidad.Consultar_unidades_grupo(nc);

                            for (int i = 0; i < arreglo_unidad.Length; i++)
                            {                                
                                    <button type="submit" class="boton" name="ir3" value="@arreglo_unidad[i].codigo_unidad">
                                        <div class="content-btn">
                                                <img src="~/imagen_multimedia/Modulo.png" />
                                                <span>@arreglo_unidad[i].nombre_unidad</span>
                                        </div>
                                        <script>
                                      var checkBox = document.getElementById("unidad");
                                      checkBox.checked = "checked"
                                        </script>                                         
                                    </button>
                            }
                        }
                        else
                        {
                            <a style="color: white;">Elija un Diplomado</a>
                        }
                    }
                </div>        
                <!--Actividades-->
        <button class="contenercheck">
            <span>
                <p>Actividades</p>
            </span>
        </button>
                <div class="contener last" id="Actividades">
                    @{
                        if (TempData["mensaje12"] != null && usu != null)
                        {
                            TempData.Keep("mensaje12");
                            string nc = Convert.ToString(TempData["mensaje12"]);
                            arreglo_actividad = actividad.Consultar_Actividad_unidades_edic(nc);
                            arreglo_examen = actividad.Consultar_examen_unidades_edic(nc);
                                <button type="submit" class="boton" name="ir5" value="nueva">
                                    <div class="content-btn">
                                            <img  src="~/imagen_multimedia/Agregar Actividad.png" />
                                            <span>Actividad</span>
                                    </div>                                 
                                </button>
                                <button type="submit" class="boton" name="ir99" value="nueva2">
                                    <div class="content-btn">
                                            <img src="~/imagen_multimedia/8.png" />
                                            <span>Actividad Practica</span>
                                    </div>                                 
                                 </button>
                            for (int i = 0; i < arreglo_actividad.Length; i++)
                            {     
                                <button type="submit" class="boton" name="ir4" value="@arreglo_actividad[i].codigo_actividad">
                                    <div class="content-btn">                                          
                                            <img src="~/imagen_multimedia/Actividad.png" />
                                            <span>@arreglo_actividad[i].nombre_actividad "@arreglo_actividad[i].edicion"</span>
                                    </div>
                                </button>
                                   if (arreglo_actividad[i].edicion == "Desaprobado")
                                   {
                                    <button type="submit" class="boton btn-editar" name="ir6" value="@arreglo_actividad[i].codigo_actividad">
                                        <div class="content-btn">
                                            @*<div class="team-front1" style="top: -20px" >*@
                                                @*<img src="https://app.schoology.com/sites/all/themes/schoology_theme/images/course-default.svg" />*@
                                                <span style="top: 51px" class="glyphicon glyphicon-hand-left">Editar</span>
                                            @*</div>*@
                                        </div>
                                    </button>
                                   }                       
                        }
                        for (int i = 0; i < arreglo_examen.Length; i++)
                        {
                        <button type="submit" class="boton" name="ir4_" value="@arreglo_examen[i].id_examen">
                            <div class="content-btn">
                                    <img  src="~/imagen_multimedia/Examen.png" />
                                    <span>@arreglo_examen[i].examen "@arreglo_examen[i].edicion_examen"</span>
                            </div>
                        </button>

                        if (arreglo_examen[i].edicion_examen == "Desaprobado")
                        {
                        <button type="submit" class="boton" name="ir6_" value="@arreglo_examen[i].id_examen">
                            <div class="content-btn">
                                @*<div class="team-front1" style="top: -20px" >*@
                                    @*<img src="https://app.schoology.com/sites/all/themes/schoology_theme/images/course-default.svg" />*@
                                    <span style="top: 51px"  class="glyphicon glyphicon-hand-left">Editar</span>
                                @*</div>*@
                            </div>
                        </button>
                                }
                            }
                            <script>
                            var checkBox = document.getElementById("actividad");
                            checkBox.checked = "checked"
                            </script >
                        }
                        else
                        {
                        <a style="color: white;"> Elija un Modulo</a>
                        }
                        }
                    </div>       
        <script>
            function myFunction() {
                var checkBox = document.getElementById("curso");
                var text = document.getElementById("Cursos");
                if (checkBox.checked == true) {
                    text.style.display = "block";
                } else {
                    text.style.display = "none";
                }
            }
            function mynivel() {
                var checkBox = document.getElementById("nivel");
                var text = document.getElementById("Niveles");
                if (checkBox.checked == true) {
                    text.style.display = "block";
                } else {
                    text.style.display = "none";
                }
            }
            function myunidad() {
                var checkBox = document.getElementById("unidad");
                var text = document.getElementById("Unidades");
                if (checkBox.checked == true) {
                    text.style.display = "block";
                } else {
                    text.style.display = "none";
                }
            }
            function myactividad() {
                var checkBox = document.getElementById("actividad");
                var text = document.getElementById("Actividades");
                if (checkBox.checked == true) {
                    text.style.display = "block";
                } else {
                    text.style.display = "none";
                }
            }
        </script>
        @{
            if (ViewBag.mensaje == "actividad")
            {
                <script> window.open ('@Url.Action("Actividades", "Actividades")'); </script>
            }
        }
    </main>

                                }
@*<footer class="marca">
    <p style="color: white;margin-top: 8px;margin-bottom: -6px;">&copy; @DateTime.Now.Year - CEMAQ - Diplomados</p>
</footer>*@


