@model Plataforma_academica.Models.Editar_Actividad

@{
    ViewBag.Title = "Editar_Actividad";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<head>
    <link href="~/Estilos/actividad_editar.css" rel="stylesheet" type="text/css">
    <link href="~/Estilos/actividadesStyl1.css" rel="stylesheet" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    <body>
        @{
            Plataforma_academica.Models.Login usu = Session["usuario"] as Plataforma_academica.Models.Login;
            Plataforma_academica.Models.Editar_Actividad editar_actividad = new Plataforma_academica.Models.Editar_Actividad();
            Plataforma_academica.Models.Editar_Actividad[] arreglo_editar;
            Plataforma_academica.Models.Editar_Actividad datos = new Plataforma_academica.Models.Editar_Actividad();
            int rol = Convert.ToInt32(usu.rol);

            if (rol < 4)
            {

                Plataforma_academica.Models.principalP act2 = Session["usuario12"] as Plataforma_academica.Models.principalP;
                arreglo_editar = editar_actividad.Editar_contenido_actividad(act2.codigo_actividad);

                <h4>Comentarios de correciones</h4>
                        @Html.LabelFor(Model => arreglo_editar[0].descripcion_editar, arreglo_editar[0].descripcion_editar, new { @class = "form-control", @id = "p" })
                <hr/>
                <h4>Titulo de la Actividad</h4>
                 @Html.TextAreaFor(model => model.Nombre_actividad,  new { @class = "form-control", @placeholder = @arreglo_editar[0].Nombre_actividad})//titulo actividad
                 <button type="submit" name="ir1" value="@arreglo_editar[0].id_actividad">Modificar</button>
                if (arreglo_editar[0].id_tipo_multimedia == "3")
                {
                    <h4>Descripcion de la Actividad</h4>
                    @Html.TextArea(arreglo_editar[0].descripcion, arreglo_editar[0].descripcion, new { @class = "form-control" })
                    <button type="submit" name="ir2" value="@arreglo_editar[0].id_actividad">Modificar</button>
                }
                else
                {
                    if (arreglo_editar[0].id_tipo_multimedia == "2")
                    {                      
                      <h4>Descripcion de la Actividad</h4>
                      <p>@Html.TextArea(arreglo_editar[0].descripcion, arreglo_editar[0].descripcion, new { @class = "form-control" })</p>
                      <button type="submit" name="ir3" value="@arreglo_editar[0].id_actividad">Modificar</button>
                      <section>
                        <div class="container mt-4">
                          <div class="row">
                             <div class="col-md-12 mb-4">
                                <div class="card">
                                   <div class="card-block p-3">
                                      <div>
                                        <img src="~/Imagenes/@arreglo_editar[0].url_multimedia" alt="Nature" disabled="true">
                                      </div>
                                   </div>
                                </div>
                             </div>
                         </div>
                       </div>
                       @Html.DropDownList("listar", (IEnumerable<SelectListItem>)ViewData["lista"], "--Select One--")
                       <input type="file" name="excelfile" />
                       <button type="submit" name="ir4" value="@arreglo_editar[0].id_multimedia">Modificar imagen</button>
                       <button type="submit" name="ir5" value="@arreglo_editar[0].id_multimedia">Eliminar imagen</button>
                      </section>

                    }
                    else
                    {
                     <hr/>
                     <h4>Descripcion de la Actividad</h4>
                      <section>
                        <div class="container mt-4">
                           <div class="row">
                              <div class="col-md-12 mb-4">
                                   <div class="card">
                                       <div class="card-block p-3">
                                           <div class="embed-responsive embed-responsive-16by9">
                                              <iframe class="embed-responsive-item" src="@arreglo_editar[0].url_multimedia"></iframe>
                                           </div>
                                       </div>
                                   </div>
                               </div>
                            </div>
                         </div>
                          @Html.DropDownList("listar", (IEnumerable<SelectListItem>)ViewData["lista"], "--Select One--")
                          <input type="file" name="excelfile" />
                          <button type="submit" name="ir6" value="@arreglo_editar[0].id_multimedia">Modificar multimedia</button>
                          <button type="submit" name="ir7" value="@arreglo_editar[0].id_multimedia">Eliminar multimedia</button>
                       </section>
                    }
                }//descripcion actividad
                if (arreglo_editar[0].titulo_seccion == null)
                {
                }
                else
                {
                    <hr />
                    <h4>Descripcion contenido de la Actividad</h4>
                    for (int i = 1; i < arreglo_editar.Length; i++)
                    {
                        if (arreglo_editar[i].titulo_seccion != null && arreglo_editar[i].id_tipo_multimedia != "3")
                        {
                                  <section>
                                        <div class="card">
                                            <div class="card-block p-3">
                                                <article>
                                                    @Html.TextArea(arreglo_editar[i].titulo_seccion, arreglo_editar[i].titulo_seccion, new { @class = "form-control" }) @*titulo sub*@
                                                    @Html.TextArea(arreglo_editar[i].contenido_seccion, arreglo_editar[i].contenido_seccion, new { @class = "form-control" })
                                                </article>
                                            </div>
                                        </div>
                                        <button type="submit" name="ir8" value="@arreglo_editar[0].id_seccion">Guardar edición</button>
                                   </section>
                                
                        }
                        if (arreglo_editar[i].id_tipo_multimedia == "3")
                        {

                            <section>
                              <div class="card">
                                <div class="card-block p-3">
                                  <article>
                                     @Html.TextArea(arreglo_editar[i].titulo_seccion, arreglo_editar[i].titulo_seccion, new { @class = "form-control" }) @*titulo sub*@
                                     @Html.TextArea(arreglo_editar[i].contenido_seccion, arreglo_editar[i].contenido_seccion, new { @class = "form-control" })
                                   </article>
                                </div>
                              </div>
                                @Html.DropDownList("listar", (IEnumerable<SelectListItem>)ViewData["lista"], "--Select One--")
                            <button type="submit" name="ir15" value="@arreglo_editar[0].id_seccion">Guardar edición</button>
                                <input type="file" name="excelfile" />
                                <button type="submit" name="ir16" value="@arreglo_editar[0].id_multimedia">Subir multimedia</button>
                            </section>
                            //<hr>

                        }
                        if (arreglo_editar[i].id_tipo_multimedia == "1")
                        {
                                    <section>
                                        <div class="container mt-4">
                                            <div class="row">
                                                <div class="col-md-12 mb-4">
                                                    <div class="card">
                                                        <div class="card-block p-3">
                                                            <div class="embed-responsive embed-responsive-16by9">
                                                                <iframe width="560" height="315" src="@arreglo_editar[i].url_multimedia" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        @Html.DropDownList("listar", (IEnumerable<SelectListItem>)ViewData["lista"], "--Select One--")
                                        <input type="file" name="excelfile" />
                                        <button type="submit" name="ir9" value="@arreglo_editar[0].id_multimedia">Modificar multimedia</button>
                                        <button type="submit" name="ir10" value="@arreglo_editar[0].id_multimedia">Eliminar multimedia</button>
                                    </section>
                                    <hr>
                        }
                        if (arreglo_editar[i].id_tipo_multimedia == "2")
                        {
                                    <section>
                                        <div class="container mt-4">
                                            <div class="row">
                                                <div class="col-md-12 mb-4">
                                                    <div class="card">
                                                        <div class="card-block p-3">
                                                            <div>
                                                                <img src="@arreglo_editar[i].url_multimedia" alt="Nature">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        @Html.DropDownList("listar", (IEnumerable<SelectListItem>)ViewData["lista"], "--Select One--")
                                        <input type="file" name="excelfile" />
                                        <button type="submit" name="ir11" value="@arreglo_editar[0].id_multimedia">Modificar imagen</button>
                                        <button type="submit" name="ir12" value="@arreglo_editar[0].id_multimedia">Eliminar imagen</button>
                                    </section>
                                    <hr>

                        }
                        if (arreglo_editar[i].id_tipo_multimedia == "4")
                        {
                                    <section>
                                        <div class="card">
                                            <div class="card-block p-3">
                                                <audio controls>
                                                    <source src="~/Audios/@arreglo_editar[i].url_multimedia" type="audio/mp3" />
                                                </audio>
                                            </div>
                                        </div>
                                        @Html.DropDownList("listar", (IEnumerable<SelectListItem>)ViewData["lista"], "--Select One--")
                                        <input type="file" name="excelfile" />
                                        <button type="submit" name="ir13" value="@arreglo_editar[0].id_multimedia">Modificar multimedia</button>
                                        <button type="submit" name="ir14" value="@arreglo_editar[0].id_multimedia">Eliminar multimedia</button>
                                    </section>

                                    <hr>
                        }
                    }
                }
            }

        }


        
    </body>
   
}



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
